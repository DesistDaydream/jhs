package i.b.w3;

import androidx.exifinterface.media.ExifInterface;
import com.meizu.cloud.pushsdk.notification.model.NotifyType;
import com.umeng.analytics.pro.am;
import h.t1;
import i.b.w3.r0;
import i.b.x1;
import java.lang.Comparable;
import java.util.Arrays;
import kotlin.Metadata;

@x1
@Metadata(bv = {1, 0, 3}, d1 = {"\u00008\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u000f\n\u0000\n\u0002\u0010\u0000\n\u0002\u0018\u0002\n\u0002\u0010\b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u0011\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\u0010\u000b\n\u0002\b\u001a\b\u0017\u0018\u0000*\u0012\b\u0000\u0010\u0003*\u00020\u0001*\b\u0012\u0004\u0012\u00028\u00000\u00022\u00060\u0004j\u0002`\u0005B\u0007¢\u0006\u0004\b0\u0010\u0012J\u0018\u0010\t\u001a\u00020\b2\u0006\u0010\u0007\u001a\u00020\u0006H\u0082\u0010¢\u0006\u0004\b\t\u0010\nJ\u0018\u0010\u000b\u001a\u00020\b2\u0006\u0010\u0007\u001a\u00020\u0006H\u0082\u0010¢\u0006\u0004\b\u000b\u0010\nJ\u0017\u0010\u0007\u001a\n\u0012\u0006\u0012\u0004\u0018\u00018\u00000\fH\u0002¢\u0006\u0004\b\u0007\u0010\rJ\u001f\u0010\u000f\u001a\u00020\b2\u0006\u0010\u0007\u001a\u00020\u00062\u0006\u0010\u000e\u001a\u00020\u0006H\u0002¢\u0006\u0004\b\u000f\u0010\u0010J\r\u0010\u0011\u001a\u00020\b¢\u0006\u0004\b\u0011\u0010\u0012J\u000f\u0010\u0013\u001a\u0004\u0018\u00018\u0000¢\u0006\u0004\b\u0013\u0010\u0014J\u000f\u0010\u0015\u001a\u0004\u0018\u00018\u0000¢\u0006\u0004\b\u0015\u0010\u0014J&\u0010\u0019\u001a\u0004\u0018\u00018\u00002\u0012\u0010\u0018\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00020\u00170\u0016H\u0086\b¢\u0006\u0004\b\u0019\u0010\u001aJ\u0015\u0010\u001c\u001a\u00020\b2\u0006\u0010\u001b\u001a\u00028\u0000¢\u0006\u0004\b\u001c\u0010\u001dJ.\u0010\u001f\u001a\u00020\u00172\u0006\u0010\u001b\u001a\u00028\u00002\u0014\u0010\u001e\u001a\u0010\u0012\u0006\u0012\u0004\u0018\u00018\u0000\u0012\u0004\u0012\u00020\u00170\u0016H\u0086\b¢\u0006\u0004\b\u001f\u0010 J\u0015\u0010\u000e\u001a\u00020\u00172\u0006\u0010\u001b\u001a\u00028\u0000¢\u0006\u0004\b\u000e\u0010!J\u0011\u0010\"\u001a\u0004\u0018\u00018\u0000H\u0001¢\u0006\u0004\b\"\u0010\u0014J\u0017\u0010$\u001a\u00028\u00002\u0006\u0010#\u001a\u00020\u0006H\u0001¢\u0006\u0004\b$\u0010%J\u0017\u0010&\u001a\u00020\b2\u0006\u0010\u001b\u001a\u00028\u0000H\u0001¢\u0006\u0004\b&\u0010\u001dR\u0013\u0010)\u001a\u00020\u00178F@\u0006¢\u0006\u0006\u001a\u0004\b'\u0010(R \u0010&\u001a\f\u0012\u0006\u0012\u0004\u0018\u00018\u0000\u0018\u00010\f8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b&\u0010*R$\u0010/\u001a\u00020\u00062\u0006\u0010+\u001a\u00020\u00068F@BX\u0086\u000e¢\u0006\f\u001a\u0004\b,\u0010-\"\u0004\b.\u0010\n¨\u00061"}, d2 = {"Li/b/w3/q0;", "Li/b/w3/r0;", "", ExifInterface.GPS_DIRECTION_TRUE, "", "Lkotlinx/coroutines/internal/SynchronizedObject;", "", "i", "Lh/t1;", am.ax, "(I)V", "o", "", "()[Lkotlinx/coroutines/internal/ThreadSafeHeapNode;", "j", "q", "(II)V", e.j.a.b.c.f.f10128d, "()V", "h", "()Li/b/w3/r0;", "m", "Lkotlin/Function1;", "", "predicate", NotifyType.LIGHTS, "(Lh/k2/u/l;)Li/b/w3/r0;", "node", "b", "(Li/b/w3/r0;)V", "cond", "c", "(Li/b/w3/r0;Lh/k2/u/l;)Z", "(Li/b/w3/r0;)Z", com.huawei.hms.push.e.a, "index", "k", "(I)Li/b/w3/r0;", am.av, "g", "()Z", "isEmpty", "[Lkotlinx/coroutines/internal/ThreadSafeHeapNode;", "value", "f", "()I", "n", "size", "<init>", "kotlinx-coroutines-core"}, k = 1, mv = {1, 4, 0})
/* loaded from: classes4.dex */
public class q0<T extends r0 & Comparable<? super T>> {
    private volatile int _size = 0;
    private T[] a;

    private final T[] i() {
        T[] tArr = this.a;
        if (tArr == null) {
            T[] tArr2 = (T[]) new r0[4];
            this.a = tArr2;
            return tArr2;
        } else if (f() >= tArr.length) {
            T[] tArr3 = (T[]) ((r0[]) Arrays.copyOf(tArr, f() * 2));
            this.a = tArr3;
            return tArr3;
        } else {
            return tArr;
        }
    }

    private final void n(int i2) {
        this._size = i2;
    }

    private final void o(int i2) {
        while (true) {
            int i3 = (i2 * 2) + 1;
            if (i3 >= f()) {
                return;
            }
            T[] tArr = this.a;
            int i4 = i3 + 1;
            if (i4 < f() && ((Comparable) tArr[i4]).compareTo(tArr[i3]) < 0) {
                i3 = i4;
            }
            if (((Comparable) tArr[i2]).compareTo(tArr[i3]) <= 0) {
                return;
            }
            q(i2, i3);
            i2 = i3;
        }
    }

    private final void p(int i2) {
        while (i2 > 0) {
            T[] tArr = this.a;
            int i3 = (i2 - 1) / 2;
            if (((Comparable) tArr[i3]).compareTo(tArr[i2]) <= 0) {
                return;
            }
            q(i2, i3);
            i2 = i3;
        }
    }

    private final void q(int i2, int i3) {
        T[] tArr = this.a;
        T t = tArr[i3];
        T t2 = tArr[i2];
        tArr[i2] = t;
        tArr[i3] = t2;
        t.d(i2);
        t2.d(i3);
    }

    @h.p0
    public final void a(@k.e.a.d T t) {
        if (i.b.q0.b()) {
            if (!(t.b() == null)) {
                throw new AssertionError();
            }
        }
        t.a(this);
        T[] i2 = i();
        int f2 = f();
        n(f2 + 1);
        i2[f2] = t;
        t.d(f2);
        p(f2);
    }

    public final void b(@k.e.a.d T t) {
        synchronized (this) {
            a(t);
            t1 t1Var = t1.a;
        }
    }

    public final boolean c(@k.e.a.d T t, @k.e.a.d h.k2.u.l<? super T, Boolean> lVar) {
        boolean z;
        synchronized (this) {
            try {
                if (lVar.invoke(e()).booleanValue()) {
                    a(t);
                    z = true;
                } else {
                    z = false;
                }
                h.k2.v.c0.d(1);
            } catch (Throwable th) {
                h.k2.v.c0.d(1);
                h.k2.v.c0.c(1);
                throw th;
            }
        }
        h.k2.v.c0.c(1);
        return z;
    }

    public final void d() {
        synchronized (this) {
            T[] tArr = this.a;
            if (tArr != null) {
                h.a2.n.w2(tArr, null, 0, 0, 6, null);
            }
            this._size = 0;
            t1 t1Var = t1.a;
        }
    }

    @h.p0
    @k.e.a.e
    public final T e() {
        T[] tArr = this.a;
        if (tArr != null) {
            return tArr[0];
        }
        return null;
    }

    public final int f() {
        return this._size;
    }

    public final boolean g() {
        return f() == 0;
    }

    @k.e.a.e
    public final T h() {
        T e2;
        synchronized (this) {
            e2 = e();
        }
        return e2;
    }

    public final boolean j(@k.e.a.d T t) {
        boolean z;
        synchronized (this) {
            z = true;
            if (t.b() == null) {
                z = false;
            } else {
                int f2 = t.f();
                if (i.b.q0.b()) {
                    if (!(f2 >= 0)) {
                        throw new AssertionError();
                    }
                }
                k(f2);
            }
        }
        return z;
    }

    @h.p0
    @k.e.a.d
    public final T k(int i2) {
        if (i.b.q0.b()) {
            if (!(f() > 0)) {
                throw new AssertionError();
            }
        }
        T[] tArr = this.a;
        n(f() - 1);
        if (i2 < f()) {
            q(i2, f());
            int i3 = (i2 - 1) / 2;
            if (i2 > 0 && ((Comparable) tArr[i2]).compareTo(tArr[i3]) < 0) {
                q(i2, i3);
                p(i3);
            } else {
                o(i2);
            }
        }
        T t = tArr[f()];
        if (i.b.q0.b()) {
            if (!(t.b() == this)) {
                throw new AssertionError();
            }
        }
        t.a(null);
        t.d(-1);
        tArr[f()] = null;
        return t;
    }

    @k.e.a.e
    public final T l(@k.e.a.d h.k2.u.l<? super T, Boolean> lVar) {
        synchronized (this) {
            try {
                T e2 = e();
                if (e2 != null) {
                    T k2 = lVar.invoke(e2).booleanValue() ? k(0) : null;
                    h.k2.v.c0.d(1);
                    h.k2.v.c0.c(1);
                    return k2;
                }
                h.k2.v.c0.d(2);
                h.k2.v.c0.c(2);
                return null;
            } catch (Throwable th) {
                h.k2.v.c0.d(1);
                h.k2.v.c0.c(1);
                throw th;
            }
        }
    }

    @k.e.a.e
    public final T m() {
        T k2;
        synchronized (this) {
            k2 = f() > 0 ? k(0) : null;
        }
        return k2;
    }
}
